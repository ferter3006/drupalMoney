{#
/**
 * @file
 * Template para la lista de salas de MoneyLink.
 *
 * Variables disponibles:
 * - message: Mensaje principal de la p√°gina
 * - salas: Array de salas del usuario
 */
#}
<div class="moneylink-salas">
  <div class="moneylink-salas__content">
    
    {# Encabezado principal #}
    <div class="hero-section" style="text-align: center; padding: 40px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; margin-bottom: 30px;">
      <h1 style="font-size: 2.5em; margin-bottom: 16px; font-weight: bold;">
        üè† Mis Salas Financieras
      </h1>
      <p style="font-size: 1.2em; margin-bottom: 20px;">
        {{ message }}
      </p>
      <p style="font-size: 1em; opacity: 0.9;">
        Organiza y gestiona tus finanzas por categor√≠as
      </p>
    </div>

    {# Bot√≥n de crear nueva sala #}
    <div style="text-align: center; margin-bottom: 30px;">
      <a href="{{ url('moneylink_salas.create') }}" class="button button--primary" style="display: inline-block; padding: 15px 30px; background: #48bb78; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 1.1em; transition: all 0.2s; box-shadow: 0 2px 4px rgba(72, 187, 120, 0.3);">
        ‚ûï Crear Nueva Sala
      </a>
    </div>

    {# Grid de salas #}
    {% if salas is not empty %}
      <div class="salas-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; margin-bottom: 30px;">
        
        {% for sala in salas %}
          <div class="sala-card" style="background: #ffffff; border: 1px solid #e1e5e9; border-radius: 12px; padding: 24px; transition: all 0.3s ease; box-shadow: 0 2px 4px rgba(0,0,0,0.05); position: relative; overflow: hidden;">
            
            {# Decoraci√≥n superior #}
            <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);"></div>
            
            {# Contenido de la sala #}
            <div style="margin-top: 8px;">
              
              {# T√≠tulo y ID #}
              <div style="display: flex; align-items: center; margin-bottom: 16px;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2em; margin-right: 16px;">
                  {{ sala.id }}
                </div>
                <div>
                  <h3 style="margin: 0; color: #2d3748; font-size: 1.3em; font-weight: bold; line-height: 1.2;">
                    {{ sala.name }}
                  </h3>
                  <p style="margin: 4px 0 0 0; color: #718096; font-size: 0.9em;">
                    Sala ID: {{ sala.id }}
                  </p>
                </div>
              </div>

              {# Informaci√≥n del rol si est√° disponible #}
              {% if sala.role_name %}
                <div style="background: #f7fafc; border-radius: 6px; padding: 12px; margin-bottom: 16px;">
                  <div style="display: flex; align-items: center;">
                    <span style="font-size: 1.2em; margin-right: 8px;">üë§</span>
                    <div>
                      <strong style="color: #2d3748; font-size: 0.9em;">Tu rol:</strong>
                      <span style="color: #4a5568; margin-left: 8px;">{{ sala.role_name }}</span>
                    </div>
                  </div>
                </div>
              {% endif %}

              {# Botones de acci√≥n #}
              <div style="display: flex; gap: 10px; margin-top: 20px;">
                <a href="{{ url('moneylink_salas.show', {'id': sala.id, 'mes': 0}) }}" 
                   style="flex: 1; display: inline-block; padding: 12px 16px; background: #4299e1; color: white; text-decoration: none; border-radius: 6px; font-weight: bold; text-align: center; transition: all 0.2s; font-size: 0.9em;">
                  üëÅÔ∏è Entrar
                </a>
                <a href="{{ url('moneylink_salas.edit', {'id': sala.id}) }}" 
                   style="padding: 12px 16px; background: #805ad5; color: white; text-decoration: none; border-radius: 6px; font-weight: bold; text-align: center; transition: all 0.2s; font-size: 0.9em;">
                  ‚úèÔ∏è Editar
                </a>
              </div>

            </div>
          </div>
        {% endfor %}

      </div>

      {# Estad√≠sticas r√°pidas #}
      <div class="stats-section" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
        
        <div class="stat-card" style="padding: 20px; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; border-radius: 8px; text-align: center;">
          <h4 style="margin-bottom: 8px; font-size: 0.9em; opacity: 0.9;">Total de Salas</h4>
          <p style="font-size: 2.5em; font-weight: bold; margin: 0;">{{ salas|length }}</p>
        </div>

        <div class="stat-card" style="padding: 20px; background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%); color: white; border-radius: 8px; text-align: center;">
          <h4 style="margin-bottom: 8px; font-size: 0.9em; opacity: 0.9;">Salas Activas</h4>
          <p style="font-size: 2.5em; font-weight: bold; margin: 0;">{{ salas|length }}</p>
        </div>

        <div class="stat-card" style="padding: 20px; background: linear-gradient(135deg, #805ad5 0%, #6b46c1 100%); color: white; border-radius: 8px; text-align: center;">
          <h4 style="margin-bottom: 8px; font-size: 0.9em; opacity: 0.9;">Gesti√≥n</h4>
          <p style="font-size: 1.5em; font-weight: bold; margin: 0;">üíº</p>
          <small style="opacity: 0.8;">Financiera</small>
        </div>
      </div>

    {% else %}
      {# Estado vac√≠o cuando no hay salas #}
      <div class="empty-state" style="text-align: center; padding: 60px 20px; background: #f7fafc; border-radius: 12px; border: 2px dashed #e2e8f0;">
        <div style="font-size: 4em; margin-bottom: 16px; opacity: 0.6;">üè†</div>
        <h3 style="color: #2d3748; margin-bottom: 12px; font-size: 1.5em;">No tienes salas creadas</h3>
        <p style="color: #4a5568; margin-bottom: 24px; max-width: 400px; margin-left: auto; margin-right: auto; line-height: 1.6;">
          Las salas te permiten organizar tus finanzas por categor√≠as. Por ejemplo: "Gastos del Hogar", "Inversiones", "Ahorros", etc.
        </p>
        <a href="{{ url('moneylink_salas.create') }}" class="button button--primary" style="display: inline-block; padding: 15px 30px; background: #48bb78; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 1.1em; transition: all 0.2s;">
          üöÄ Crear Mi Primera Sala
        </a>
      </div>
    {% endif %}

    {# Tips para salas #}
    <div class="tips-section" style="background: #f7fafc; border-radius: 8px; border-left: 4px solid #48bb78; padding: 20px; margin-top: 30px;">
      <h3 style="color: #2d3748; margin-bottom: 12px; display: flex; align-items: center;">
        üí° <span style="margin-left: 8px;">Consejos para organizar tus salas</span>
      </h3>
      <ul style="color: #4a5568; line-height: 1.6; margin: 0; padding-left: 20px;">
        <li><strong>Gastos del Hogar:</strong> Para controlar gastos familiares y dom√©sticos</li>
        <li><strong>Inversiones:</strong> Para seguimiento de tus inversiones y rendimientos</li>
        <li><strong>Ahorros:</strong> Para metas espec√≠ficas como vacaciones o compras importantes</li>
        <li><strong>Negocio:</strong> Si tienes ingresos independientes o un emprendimiento</li>
      </ul>
    </div>

  </div>
</div>

<style>
/* Efectos hover para las tarjetas de salas */
.sala-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  border-color: #48bb78;
}

.sala-card a:hover {
  transform: translateY(-1px);
  opacity: 0.9;
}

.button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(72, 187, 120, 0.4);
}

/* Responsivo */
@media (max-width: 768px) {
  .salas-grid {
    grid-template-columns: 1fr !important;
  }
  
  .stats-section {
    grid-template-columns: 1fr !important;
  }
  
  .hero-section h1 {
    font-size: 2em !important;
  }
  
  .sala-card div[style*="display: flex"] {
    flex-direction: column !important;
    gap: 8px !important;
  }
  
  .sala-card a {
    font-size: 0.85em !important;
    padding: 10px 12px !important;
  }
}

/* Animaciones sutiles */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.sala-card {
  animation: fadeInUp 0.5s ease-out;
}

.stat-card {
  transition: all 0.3s ease;
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
</style>
